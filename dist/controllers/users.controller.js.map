{"version":3,"sources":["../../src/controllers/users.controller.ts"],"sourcesContent":["import { NextFunction, Request, Response } from 'express';\nimport { Container } from 'typedi';\nimport { User } from '@interfaces/users.interface';\nimport { UserService } from '@services/users.service';\nimport { RequestWithUser } from '@/interfaces/auth.interface';\n\nexport class UserController {\n  public user = Container.get(UserService);\n\n\n\n  public createUser = async (req: Request, res: Response, next: NextFunction): Promise<void> => {\n    try {\n      const userData: User = req.body;\n      const createUserData: User = await this.user.createUser(userData);\n\n      res.status(201).json({ data: createUserData, message: 'created' });\n    } catch (error) {\n      next(error);\n    }\n  };\n\n  public updateUser = async (req: Request, res: Response, next: NextFunction): Promise<void> => {\n    try {\n      const userId = Number(req.params.id);\n      const userData: User = req.body;\n      const updateUserData: User = await this.user.updateUser(userId, userData);\n\n      res.status(200).json({ data: updateUserData, message: 'updated' });\n    } catch (error) {\n      next(error);\n    }\n  };\n\n  public deleteUser = async (req: Request, res: Response, next: NextFunction): Promise<void> => {\n    try {\n      await this.user.deleteUser();\n      res.status(200).json({ data: \"\", message: 'deleted' });\n    } catch (error) {\n      next(error);\n    }\n  };\n\n  public getUser = async (req: RequestWithUser, res: Response, next: NextFunction): Promise<void> => {\n    try {\n      const user = req.user;\n      if (!user) {\n        res.sendStatus(403)\n      } else {\n        res.status(200).json(user);\n      }\n    } catch (error) {\n      next(error);\n    }\n  }\n}\n"],"names":["UserController","user","Container","get","UserService","createUser","req","res","next","userData","body","createUserData","status","json","data","message","error","updateUser","userId","Number","params","id","updateUserData","deleteUser","getUser","sendStatus"],"rangeMappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","mappings":";;;;+BAMaA;;;eAAAA;;;wBALa;8BAEE;;;;;;;;;;;;;;AAGrB,IAAA,AAAMA,iBAAN,MAAMA;;QACX,uBAAOC,QAAOC,iBAAS,CAACC,GAAG,CAACC,yBAAW;QAIvC,uBAAOC,cAAa,OAAOC,KAAcC,KAAeC;YACtD,IAAI;gBACF,MAAMC,WAAiBH,IAAII,IAAI;gBAC/B,MAAMC,iBAAuB,MAAM,IAAI,CAACV,IAAI,CAACI,UAAU,CAACI;gBAExDF,IAAIK,MAAM,CAAC,KAAKC,IAAI,CAAC;oBAAEC,MAAMH;oBAAgBI,SAAS;gBAAU;YAClE,EAAE,OAAOC,OAAO;gBACdR,KAAKQ;YACP;QACF;QAEA,uBAAOC,cAAa,OAAOX,KAAcC,KAAeC;YACtD,IAAI;gBACF,MAAMU,SAASC,OAAOb,IAAIc,MAAM,CAACC,EAAE;gBACnC,MAAMZ,WAAiBH,IAAII,IAAI;gBAC/B,MAAMY,iBAAuB,MAAM,IAAI,CAACrB,IAAI,CAACgB,UAAU,CAACC,QAAQT;gBAEhEF,IAAIK,MAAM,CAAC,KAAKC,IAAI,CAAC;oBAAEC,MAAMQ;oBAAgBP,SAAS;gBAAU;YAClE,EAAE,OAAOC,OAAO;gBACdR,KAAKQ;YACP;QACF;QAEA,uBAAOO,cAAa,OAAOjB,KAAcC,KAAeC;YACtD,IAAI;gBACF,MAAM,IAAI,CAACP,IAAI,CAACsB,UAAU;gBAC1BhB,IAAIK,MAAM,CAAC,KAAKC,IAAI,CAAC;oBAAEC,MAAM;oBAAIC,SAAS;gBAAU;YACtD,EAAE,OAAOC,OAAO;gBACdR,KAAKQ;YACP;QACF;QAEA,uBAAOQ,WAAU,OAAOlB,KAAsBC,KAAeC;YAC3D,IAAI;gBACF,MAAMP,OAAOK,IAAIL,IAAI;gBACrB,IAAI,CAACA,MAAM;oBACTM,IAAIkB,UAAU,CAAC;gBACjB,OAAO;oBACLlB,IAAIK,MAAM,CAAC,KAAKC,IAAI,CAACZ;gBACvB;YACF,EAAE,OAAOe,OAAO;gBACdR,KAAKQ;YACP;QACF;;AACF"}